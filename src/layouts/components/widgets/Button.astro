---
export interface Props {
	// New prop names
	text?: string;
	link?: string;
	// Legacy prop names (for backward compatibility)
	label?: string;
	url?: string;
	variant?: 'solid' | 'outline';
	color?: 'blue' | 'green' | 'red' | 'purple' | 'gray';
	external?: boolean;
}

const { 
	// Use new prop names with fallback to legacy props
	text, 
	link, 
	label, 
	url, 
	variant = 'solid', 
	color = 'blue',
	external = false 
} = Astro.props;

// Use new props if available, otherwise fall back to legacy props
const buttonText = text || label || '';
const buttonLink = link || url || '#';

const colorClasses = {
	blue: {
		solid: 'bg-blue-500 hover:bg-blue-600 text-white shadow-sm dark:bg-blue-600 dark:hover:bg-blue-700',
		outline: 'border-blue-500 text-blue-600 hover:bg-blue-50 dark:border-blue-500 dark:text-blue-400 dark:hover:bg-blue-900/20'
	},
	green: {
		solid: 'bg-green-500 hover:bg-green-600 text-white shadow-sm dark:bg-green-600 dark:hover:bg-green-700',
		outline: 'border-green-500 text-green-600 hover:bg-green-50 dark:border-green-500 dark:text-green-400 dark:hover:bg-green-900/20'
	},
	red: {
		solid: 'bg-red-500 hover:bg-red-600 text-white shadow-sm dark:bg-red-600 dark:hover:bg-red-700',
		outline: 'border-red-500 text-red-600 hover:bg-red-50 dark:border-red-500 dark:text-red-400 dark:hover:bg-red-900/20'
	},
	purple: {
		solid: 'bg-purple-500 hover:bg-purple-600 text-white shadow-sm dark:bg-purple-600 dark:hover:bg-purple-700',
		outline: 'border-purple-500 text-purple-600 hover:bg-purple-50 dark:border-purple-500 dark:text-purple-400 dark:hover:bg-purple-900/20'
	},
	gray: {
		solid: 'bg-gray-500 hover:bg-gray-600 text-white shadow-sm dark:bg-gray-600 dark:hover:bg-gray-700',
		outline: 'border-gray-500 text-gray-600 hover:bg-gray-50 dark:border-gray-500 dark:text-gray-400 dark:hover:bg-gray-900/20'
	}
};

const buttonClasses = `not-prose inline-flex items-center justify-center px-4 py-2 rounded-md font-medium transition-colors duration-200 ease-in-out ${variant === 'outline' ? 'border-2 ' : ''} ${colorClasses[color][variant]}`;
---

<a
	class={buttonClasses}
	href={buttonLink}
	{...external ? { target: "_blank", rel: "noopener noreferrer" } : {}}
>
	{buttonText}
</a>
